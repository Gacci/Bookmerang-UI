<div class="relative block px-8 py-12 md:px-4" *ngIf="!!_post">
  <div
    class="inline-block absolute top-1 right-1"
    *ngIf="editPostEnabled || deletePostEnabled"
  >
    <button
      type="button"
      class="w-10 h-10 p-1 text-center rounded-full hover:bg-gray-100"
      [tcnDropdown]="menuDropdownContent"
    >
      <svg
        class="size-6 mx-auto"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M7 12C7 13.1046 6.10457 14 5 14C3.89543 14 3 13.1046 3 12C3 10.8954 3.89543 10 5 10C6.10457 10 7 10.8954 7 12Z"
          fill="#1C274C"
        />
        <path
          d="M14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12Z"
          fill="#1C274C"
        />
        <path
          d="M21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12Z"
          fill="#1C274C"
        />
      </svg>
    </button>

    <ul
      #menuDropdownContent
      role="menu"
      class="absolute z-10 min-w-[180px] overflow-auto rounded-lg border border-slate-200 bg-white p-1.5 shadow-lg shadow-sm focus:outline-none"
    >
      <!-- <hr class="my-2 border-slate-200" role="menuitem" /> -->
      <li role="menuitem" *ngIf="editPostEnabled">
        <button
          type="button"
          class="flex w-full items-center space-x-1 text-sm p-3 cursor-pointer text-slate-800 rounded-md transition-all hover:bg-slate-100 focus:bg-slate-100 active:bg-slate-100"
          [disabled]="isProcessingDelete || isProcessingEdit || !isSelfOwned"
          (click)="onEditBookPost($event)"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-5 h-5 text-slate-400"
          >
            <path
              d="M15.232 3.232a3 3 0 0 1 4.24 4.24l-1.792 1.792-4.24-4.24 1.792-1.792Zm-2.414 2.414L5.5 13.964V16.5h2.536l7.318-7.318-2.536-2.536Z"
            />
          </svg>

          <span>Edit</span>
        </button>
      </li>

      <li role="menuitem" *ngIf="deletePostEnabled">
        <button
          type="button"
          class="flex w-full items-center space-x-1 text-sm p-3 cursor-pointer text-slate-800 rounded-md transition-all hover:bg-slate-100 focus:bg-slate-100 active:bg-slate-100"
          [disabled]="isProcessingDelete || isProcessingEdit || !isSelfOwned"
          (click)="onDeleteBookPost($event)"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-5 h-5 text-slate-400"
          >
            <path
              fill-rule="evenodd"
              d="M6 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h4a1 1 0 0 1 0 2h-1.317l-1.45 13.978A2 2 0 0 1 17.333 24H6.667a2 2 0 0 1-1.999-1.878L3.217 8H2a1 1 0 0 1 0-2h4V4zm2 0v2h8V4H8zm-1 6a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2h-8a1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2h-8a1 1 0 0 1-1-1z"
              clip-rule="evenodd"
            />
          </svg>

          <span>Delete</span>
        </button>
      </li>
    </ul>
  </div>
  <div>
    <a
      class="relative block aspect-2/3 w-1/2 overflow-hidden mx-auto my-4 rounded-lg bg-gray-200 xl:aspect-h-8 xl:aspect-w-7 md:w-2/3 lg:w-1/2"
      [routerLink]="['/', 'books', 'markets']"
      [queryParams]="{ isbn13: _post.book.isbn13 }"
    >
      <img
        class="absolute top-0 left-0 h-full w-full object-cover object-center group-hover:opacity-75"
        [src]="_post.book.thumbnail"
        [alt]="_post.book.title"
      />
    </a>
    <a
      class="mt-2 text-sm font-medium text-gray-900"
      [routerLink]="['/', 'books', 'markets', _post.book.isbn13]"
    >
      {{ _post.book.title }} {{ _post.book.subtitle }}
    </a>
    <span class="block text-sm text-gray-700">{{ _post.book.authors }}</span>
    <span class="block text-sm text-gray-700">{{ _post.book.isbn13 }}</span>
    <strong class="block text-sm">
      {{ _post.price | currency }}
    </strong>
  </div>
</div>
